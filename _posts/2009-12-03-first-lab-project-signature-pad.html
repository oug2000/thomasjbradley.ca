---
layout: article
title: "First Lab Project: Signature Pad"
desc: "Signature Pad is a jQuery plugin for assisting in the creation of an HTML5 canvas based signature pad. Records the drawn signature in JSON for later regeneration."
---

<p>Signature Pad is the first official project posted to my <a href="~/lab">lab section</a> (and there are two more projects in the queue). Getting something posted on labs has been a long time coming, but it’s finally here.

<h2>A Little History</h2>
<p>Signature Pad started out using Flash and ExternalInterface instead of HTML5 Canvas. It worked, but wasn’t easily configured and—of course—<em>relied</em> on Flash. The signature bits were a little slow on my Mac and saving out the signature as an image wasn’t as reliable as I hoped.
<p>I wanted to make something faster, simpler and more reliable and preferably standards based. So I set out to duplicate the functionality in Javascipt/Canvas.
<p>I was surprised at how quickly it came together in canvas, but not without a few IE related hick-ups. After making the first prototype I decided that it would be a great <a href="http://plugins.jquery.com/" rel="external">jQuery plugin</a>.

<h2>Making a jQuery Plugin</h2>
<p>Making a jQuery plugin was a rewarding experience and I found it to be fairly simple. It really helped me understand a few things about Javascript that I had never used before.
<p>Here are a couple resources that helped:
<ul>
	<li><a href="http://docs.jquery.com/Plugins/Authoring" rel="external">jQuery Plugin Authouring Docs</a>
	<li><a href="http://www.learningjquery.com/2007/10/a-plugin-development-pattern" rel="external">Learning jQuery: A Plugin Development Pattern</a>
	<li><a href="http://snook.ca/archives/javascript/jquery_plugin" rel="external met colleague">Snook: Developing a jQuery Plugin</a>
</ul>
<p>I also found it really helpful to look at other jQuery plugins and see how they did things.

<h2>The Major Hick-ups</h2>
<p>There were a few major hick-ups, related to IE, while developing the plugin.
<p>The first plagued IE7 and IE8 and was related to initially drawing the grey signature line on the canvas. I had it working for a while and then it stopped and I had a long drawn battle to figure out why.
<p>Through my debugging I discovered that only on the first call to the <code class="language-javascript"><b>drawSigLine</b>()</code> method, the line wasn’t drawn, but every subsequent time it worked.
<p>I don’t fully remember how I came to the solution, but the solution was just to not draw the line immediately on page load. Instead I created a timeout of 50 milliseconds that would then draw the line when it fired. Problem solved.
<p>The second major issue plagued IE8 only and was related to <a href="http://code.google.com/p/explorercanvas/" rel="external">Explorer Canvas</a>. In IE8 strict mode, I couldn’t draw on the canvas. By couldn’t draw, I mean I could draw, it just wouldn’t display.
<p>Through some online digging I found that excanvas sets <code class="language-css"><b>overflow</b>:<i>hidden</i></code> on the <abbr title="Vector Markup Language">VML</abbr> div that it creates. This prompted me to add a <em>wonderful</em> hack to my code that checks for the div with <code class="language-css"><b>overflow</b>:<i>hidden</i></code> and set it’s overflow to visible.

<h2>Documentation and Examples</h2>
<p>The lab section has complete examples, documentation and tutorials on the Signature Pad.
<ul>
	<li><a href="~/lab/signature-pad">Documentation <span title="and">&amp;</span> Tutorials</a>
	<li><a href="~/lab/signature-pad-accept" title="Continue to see a complete example of accepting a signature in an HTML form with Signature Pad">Demo of Accepting a Signature</a>
	<li><a href="~/lab/signature-pad-regenerate" title="Continue to see a complete example of regenerating a signature from a saved JSON array with Signature Pad">Demo of Regenerating a Signature</a>
</ul>
